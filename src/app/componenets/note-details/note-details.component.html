<div class="container">
    <div class="back" (click)="goToHome()">
        <span class="material-symbols-outlined">
            arrow_back
        </span>
    </div>
    <div class="toolbar">Notes</div>
    @if(note) {
        <mat-card class="card">
            <mat-card-header>
            <mat-card-title>{{note.title}}</mat-card-title>
            <mat-card-subtitle>{{note.creationDate}} -- {{wordCount}} words</mat-card-subtitle>
            </mat-card-header>
            <br>
            <mat-card-content>
                @if(!isEditing) {
                    <ng-container>
                        <p (click)="enableEditing()">{{note.content}}</p>
                    </ng-container>
                } @else {
                        <mat-form-field style="width: 100%;">
                            <textarea matInput (input)="updateWordCount($event)" [(ngModel)]="note.content" rows="15" (blur)="disableEditing()"></textarea>
                        </mat-form-field>
                }
            </mat-card-content>
            <mat-card-actions class="actions">
            <button mat-button color="warn" (click)="openDialog('0ms','0ms')">Delete</button>
            <button mat-button [disabled]="!isEditing" (click)="save()">Save</button>
            </mat-card-actions>
        </mat-card>
    }
    
</div>